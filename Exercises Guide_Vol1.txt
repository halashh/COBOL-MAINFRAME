Exercises VOL 1

Exercise Guide
Introduction to z/OS Commands and Panels
on IBM Z
Course code ESU01 ERC 1.3
July 2024 edition
Notices
© Copyright International Business Machines Corporation 2019, 2024.
This document may not be reproduced in whole or in part without the prior written permission of IBM.
US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
IBM may not offer the products, services, or features discussed in this document in other countries. Consult your local IBM
representative for information on the products and services currently available in your area. Any reference to an IBM product, program,
or service is not intended to state or imply that only that IBM product, program, or service may be used. Any functionally equivalent
product, program, or service that does not infringe any IBM intellectual property right may be used instead. However, it is the user's
responsibility to evaluate and verify the operation of any non-IBM product, program, or service.
IBM may have patents or pending patent applications covering subject matter described in this document. The furnishing of this
document does not grant you any license to these patents. You can send license inquiries, in writing, to:
IBM Director of Licensing, IBM Corporation, North Castle Drive, MD-NC119, Armonk, NY 10504-1785, US
INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS PUBLICATION "AS IS" WITHOUT WARRANTY OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT,
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Some jurisdictions do not allow disclaimer of express or implied
warranties in certain transactions, therefore, this statement may not apply to you.
This information could include technical inaccuracies or typographical errors. Changes are periodically made to the information herein;
these changes will be incorporated in new editions of the publication. IBM may make improvements and/or changes in the product(s)
and/or the program(s) described in this publication at any time without notice.
Any references in this information to non-IBM websites are provided for convenience only and do not in any manner serve as an
endorsement of those websites. The materials at those websites are not part of the materials for this IBM product and use of those
websites is at your own risk.
IBM may use or distribute any of the information you provide in any way it believes appropriate without incurring any obligation to you.
Information concerning non-IBM products was obtained from the suppliers of those products, their published announcements or other
publicly available sources. IBM has not tested those products and cannot confirm the accuracy of performance, compatibility or any
other claims related to non-IBM products. Questions on the capabilities of non-IBM products should be addressed to the suppliers of
those products.
This information contains examples of data and reports used in daily business operations. To illustrate them as completely as possible,
the examples include the names of individuals, companies, brands, and products. All of these names are fictitious and any similarity to
actual people or business enterprises is entirely coincidental.
Trademarks
IBM, the IBM logo, and ibm.com are trademarks or registered trademarks of International Business Machines Corp., registered in many
jurisdictions worldwide. Other product and service names might be trademarks of IBM or other companies. A current list of IBM
trademarks is available on the web at “Copyright and trademark information” at www.ibm.com/legal/copytrade.shtml.
V12.0
TOC
 Contents
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 iii
Contents
Trademarks . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iv
Exercise 1. System Familiarization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Gathering information and accessing the lab image . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 2: The logon screen . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .11
Section 3: ISPF Primary Menu . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
PCOMM terminal emulator tips . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .15
Section 4: ISPF Settings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .17
Section 5: ISPF Settings: Action bar choices . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .20
Section 6: View a data set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .22
Section 7: Exit ISPF . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .24
Section 8: Log Data Set Disposition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .25
Section 9: Logoff . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .27
Exercise 2. Allocate new data sets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Section 1: Lab exercise assistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Section 2: Allocate a Physical Sequential data set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
Section 3: Allocate a Partitioned Data Set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .10
Section 4: Allocate a Partitioned Data Set Extended . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .13
Exercise 3. ISPF editor primary commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Create a PDS member . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 2: Edit the LITLGAME member . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Section 3: Ending the exec . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .22
Exercise 4. ISPF editor line commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Create a new member and copy data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 2: Copy / overlay commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Section 3: Insert lines . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8
Section 4: Add and repeat lines . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .13
Exercise 5. Copy, move, rename, delete data sets and members . . . . . . . . . . . . . . . . . . . . . . . . . 5-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Copy, move, rename, delete data sets, and members . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Exercise 6. Data set lists . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Data set lists . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Exercise 7. Using TSO/E commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7-1
Exercise instructions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 1: Accessing the TSO command line . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
Section 2: TSO commands . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Glossary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . X-13
V12.0
TMK
 Trademarks
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 iv
Trademarks
The reader should recognize that the following terms, which appear in the content of this training
document, are official trademarks of IBM or other companies:
IBM, the IBM logo, and ibm.com are trademarks or registered trademarks of International
Business Machines Corp., registered in many jurisdictions worldwide.
The following are trademarks of International Business Machines Corporation, registered in many
jurisdictions worldwide:
Linux® is a registered trademark of Linus Torvalds in the United States, other countries, or both.
Microsoft and Windows are trademarks of Microsoft Corporation in the United States, other
countries, or both.
Java and all Java-based trademarks and logos are trademarks or registered trademarks of Oracle
and/or its affiliates.
UNIX is a registered trademark of The Open Group in the United States and other countries.
VMware is a registered trademark or trademark of VMware, Inc. or its subsidiaries in the United
States and/or other jurisdictions.
Other product and service names might be trademarks of IBM or other companies.
AIX® Avenue® CICS®
DS8000® Easy Tier® Enterprise Storage Server®
FICON® FlashCopy® GDPS®
HyperSwap® IBM Spectrum® IBM Z®
IBM z13® IBM z14® Interconnect®
MQSeries® Operating System/400® OS/390®
OS/400® Parallel Sysplex® Power Architecture®
Power® PowerHA® RACF®
Resource® System p5® System z10®
System z9® System/390® Tivoli®
VTAM® WebSphere® z/Architecture®
z/OS® z/VM® z/VSE®
z13® z13s® z9®
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-1
Exercise 1. System Familiarization
Estimated time
00:45
Overview
The steps in this exercise are to guide you through accessing the Skytap environment to
gain entry into the IBM mainframe system. The screens displayed in this exercise are
intended as a reference to assist you as you progress through the remaining lab exercises.
These action items are to be performed on the actual live system.
Objectives
• Access the Skytap environment
• Access the system image
• Log on to TSO
• Access the ISPF Primary Option Menu
• Navigate through the TSO/ISPF screens
• Logoff TSO
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-2
Exercise instructions
Preface
Note
On some keyboards, the Enter key for z/OS is the right CTRL key. Take care when entering your
password. If you enter the password incorrectly four times, your user ID will be revoked. Contact
the Help Desk for support.
Section 1: Gathering information and accessing
the lab image
In these labs, you will logon to TSO in a z/OS system to do the exercises.
You don’t access the z/OS system directly, but from a Windows virtual machine.
In this part of the lab, you’ll learn how to login to the Windows virtual machine.
Note
The screenshots below are from a generic course and will not match exactly what you see.
__ 1. Now that you are ready to perform the lab exercises, select the Open Lab link to start:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-3
The first time you click on Enter, the system creates the Windows virtual machine that you use to
logon to z/OS.
__ 2. Wait until the Windows virtual machine is up and running. You should see this (the
virtual machine showing “busy”) for a few minutes (it will be faster the next time, once the
virtual machine has been created):
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-4
__ 3. Once the virtual machine is up and running, you’ll see this at the top left corner of the
screen:
This has your course code (remember the above is a generic screenshot so it does not show
this course’s code).
If you need to report a problem to the Help Desk, you will be asked to provide the Course
Code and Reference ID.
The most important part is the third line. The Course Lab Kit is a document that contains
detailed information about the lab environment and your Windows and TSO credentials.
Click on “Click here for Course Lab Kit…” to view the Course Lab Kit (described below).
Note
The first time you access the Course Lab Kit, you may see a message saying “The setup... is
currently underway. This process may take up to 10 minutes...”.
Stay on the page. Once the setup is complete, the page will refresh and you’ll see the Course Lab
Kit.
__ 4. In this Guide, we provide high-level instructions to access the Lab environment. For
detailed information, download “Help how to login to your system”, at the top of the
Course Lab Kit:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-5
__ 5. Scrolling down you will find two more documents that you may find useful: “Skytap on
SoftLayer Virtual Machine Usage Tips” and “Keyboard remapping”:
__ 6. The next bit is important, as you need it to login to the Windows virtual machine. Make a
note of the userid and password shown:
__ 7. Scroll down to CREDENTIAL INFORMATION and make a note of your TSO userid and
password:
__ 8. At the bottom of the page is a link to the Help Desk, in case you need to report a problem:
To report a problem, click on the link, then “Get Help”.
__ 9. Record your information here for reference:
PC Image Login: IBM                                                                  
PC Image Password:                                                                   
System name: MVS1
TSO user ID:                                                               
TSO password:                                                           
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-6
__ 10. Back to the virtual machine. When the virtual machine is ready, the display background
becomes green, and the indicator (top left) reads “Running”.
Next time you connect, the virtual machine may not be running (it shuts down automatically
after a while if idle). If that happens, click on the play button, and wait until it’s running:
__ 11. Click inside the virtual machine icon to open the Windows desktop:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-7
__ 12. You should see the Windows desktop. Depending on your screen resolution, you may not
see the whole desktop area. Click on the highlighted button (it shows “Fit to window” if you
hover the mouse over it) to fit the Windows desktop to your display:
__ 13. Click anywhere on the Windows desktop to bring up the login screen. Use the Windows
credentials you saved earlier.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-8
__ 14. After logging in to Windows, you should see:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-9
__ 15. If you prefer to work on a full screen, click on the Full Screen button at the top. To exit full
screen, use the Escape key.
You can increase the display height by clicking on Height + 2-3 times until the desktop fills the
screen (you must click on Height at least twice, as the first click does nothing):
A note about lab availability
At the top of the virtual machine screen, you will see this on the left…
…and this on the right:
Your virtual machine will be available until the date shown in “URL expires”, or after the hours
of operation shown under “Run time remaining”, whichever comes first.
Accessing the z/OS system
To access the lab z/OS system from the Windows virtual machine you’ve just logged in to, we use
the Personal Communications (PCOMM) terminal emulator.
You will see two PCOMM icons in the desktop:
If you are using a Windows/Linux PC or laptop, you can use either icon, depending on your
preference for the location of the Enter key in the keyboard.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-10
If you are using a Mac, you must use the other icon (labeled “MVS1_Remap_KMP”).
Where is the ENTER key in a 3270 terminal?
 ▪ Using the top icon (labeled “MVS1”), the 3270 ENTER key is the right CONTROL key.
This places the ENTER key at the same location of the original 3270 keyboard.
People familiar with the 3270 keyboard will prefer this setting.
 ▪ Using the bottom icon (labeled “MVS1_Remap_KMP”), the 3270 ENTER key is the
RETURN key.
This will feel more natural to those who haven’t used 3270 keyboards.
Note this is the only option for Mac users, as there is no right CONTROL key in the Mac
keyboard.
__ 16. Double-click on MVS1 (PC) or MVS1_Remap_KMP (PC or Mac), enter the assigned TSO
user ID and press the Enter Key.
This will open the terminal emulator. Note that it takes a few seconds for the app to load
and start. When you double-click, it will seem that nothing happens; you just need to wait.
__ 17. The TSO logon prompt appears. Enter the TSO Userid you recorded in Step 9, above, and
press Enter.
Note
In TSO, neither Userid nor password are case-sensitive.
If the Lab Toolkit says that your TSO Userid is, for example, TSOAA55, you can enter tsoaa55.
Same for password: XXAA1122 is the same as xxaa1122.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-11
Section 2: The logon screen
The following is a short description of each of the fields as they appear on the logon panel:
• User ID: A TSO user ID is 1 to 8 characters in length. It starts with an alphabetic or
national character (A-Z, #, ¢, @). All following characters can be alphanumeric or
national characters (A-Z, 0-9, #, ¢, @).
• Password: The password is 1 to 8 alphanumeric or national characters (A-Z, 0-9, #, ¢,
@). Any combination of these characters can be used in the password. Certain
installation-specific rules might apply. The password is not visible during logon.
DO NOT change your password.
• Procedure: A logon procedure name is required to log on to TSO. If you have more
than one logon procedure, the value LOGON ensures that the procedure name entered
is valid for the account number that you might have also entered. The procedure name
is up to 8 characters in length. The first character has to be alphabetic. All following
characters can be alphanumeric or national (A-Z, 0-9, #, ¢, @).
• Acct Nmbr: If you have been provided an account number, you might be required to
enter it in order to log on to TSO. If the account number is required and you omit it, you
are prompted to enter it. The account number has a maximum of 40 characters.
• Size: This entry allows you to specify a region size for your TSO session. A default
region size is used if none is specified.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-12
• Perform: This field is reserved for your performance group. The value has to be an
integer from 1 to 255. Your installation might have authorized performance group
values for you. If not, entering a value has no effect on your TSO session.
• Command: You can enter a TSO command at logon time. This is processed after any
command the TSO/E administrator has entered in the parm field on the EXEC
statement of the logon procedure. TSO/E does not execute the command you enter in
the COMMAND field if the command specified in the parm field of the logon procedure
fails.
• New Password: If your user ID is defined to RACF, you might want to change your
password, or you might be required to do so. To change your password, enter your
current password in the PASSWORD field, and then enter your new password in this
field. The same password rules as for the old password apply. When you enter a new
password in this field, you are prompted to verify the password. Only then, the
password is changed.
DO NOT change the password.
• Group Ident: If your user ID is defined to RACF, you can enter a RACF group ID. Your
RACF group ID can be up to 8 characters in length. The first character must be
alphabetic or national (A-Z, #, ¢ or @). The remaining characters, if any, can also
contain numerics (0-9).
• -Nomail By entering S before this option, you choose not to display messages
intended specifically for you during logon processing. If you do not select this option,
all messages intended for you are displayed on your terminal during logon.
• -Nonotice: By entering S before this option, you elect not to receive messages
intended for all TSO users during logon processing. If you do not select this option, all
messages intended for all TSO users are displayed on your terminal during logon.
• -Reconnect: By entering S before this option, you indicate that you want to reconnect
your logon session if the session was disconnected. If the session was not
disconnected and your user ID does not currently have a session established, logon
processing occurs.
• -OIDcard: If your user ID is defined to RACF and you want to enter data through the
Operator Identification Card (OIDCARD), you are prompted to do so during the logon
process. To enter data, slide your OIDCARD through your OIDCARD reader attached to
your terminal.
__ 18. Using the information you recorded in step 9, enter the assigned TSO password and press
the Enter Key. Remember, the password is not case sensitive.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-13
Once you have successfully logged on, the following screen will appear.
Note, at the bottom, the three asterisks followed by the cursor (‘*** _’):
__ 19. It is important to remember this: whenever you see three asterisks in TSO, the only
thing you can do is press ENTER!
So, press ENTER.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-14
Section 3: ISPF Primary Menu
When you log on, you log on to TSO. TSO presents a command line similar to the
terminal/command prompt in Windows or Mac.
Apart from the userid logon prompt, you never see the TSO command line, because the system
automatically starts the menu-based ISPF application. After you press ENTER, you’ll see the ISPF
main menu.
Note
Recall what Jeff says in the video. We’ll mention many acronyms (like “TSO” and “ISPF”) without
saying what they stand for.
These names are now always used as acronyms. Knowing what’s behind TSO or ISPF doesn’t help
understanding them better.
OK, since you ask.
TSO: Time Sharing Option. This made sense in 1978 but no so much today.
Same for ISPF: Interactive System Productivity Facility, or ISPF/PDF (PDF: Program Development
Facility).
This is the ISPF main menu:
Note the “Option ===>” field. We will refer to it as the command line.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-15
__ 20. Press the Enter key to remove the Licensed Material copyright information from the
screen.
PCOMM terminal emulator tips
Before we proceed, a few tips about how to work with the PCOMM 3270 terminal emulator.
The RESET key
3270 screens have protected and unprotected fields. You can type in unprotected fields (also
called input fields), but not in protected fields.
When the ISPF main menu appears, the cursor will be at the main input field, next to “Option”,
where you can, well, enter your option.
If you press the Tab key, you will see the cursor moving to the next input field. Keep pressing Tab,
and you’ll be back to the Option field.
If you type on a protected field by accident, the screen locks and you won’t be able to do anything
until you unlock it. A locked screen has this symbol (in red) at the bottom left:
To unlock the screen, you must press the 3270 RESET key. In both PC and Mac, the RESET key is
the left CONTROL key.
The Pop-Up Keypad
Another way of entering special 3270 key functions, like RESET, is with the Pop-Up Keypad.
Right-click anywhere on the 3270 screen and the Pop-Up Keypad will appear:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-16
You can the click on the 3270 key you want. For example, to enter RESET:
The PA2 Key
When working on a 3270 screen, you are connected to a z/OS system.
Nothing changes on the system until you press ENTER. If you started typing something and
realize it was a mistake before you pressed ENTER, you can undo what you typed by pressing the
PA2 key.
Right-click to bring up the Pop-Up Keypad and press PA2:
After pressing PA2, the typed text is cleared:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-17
The Function (F, or PF) Keys
In this labs, you’ll frequently see the instruction “press the F1 key” or “press the F3 key”.
Depending on your laptop setting (this is not something we can control), you may have to use the
Fn key plus the Function key combined (for example, to “press F1” you may need to press Fn + F1
together).
Section 4: ISPF Settings
__ 21. Your first task is to alter the settings for your ISPF/PDF session.
Type ’0’ (zero, not the letter O) in the Option field, then press Enter, to open the ISPF
Setting panel:
The ISPF Setting panel will appear:
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-18
__ 22. Use this panel to familiarize yourself with the ISPF settings.
__ 23. Place a forward slash in front of Command line at bottom and press the Enter key.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-19
Important
To get the cursor to the Command line at bottom field, so you can type a forward slash, you can
use
 • The Tab key to tab forward to the next field.
 • SHIFT + Tab to tab backwards to the previous field.
 • The hard way, using the cursor arrow keys (left, right, up, down) to move the cursor one
character at a time.
 • The mouse: move the pointer to the field you want and click. This may need adjusting with
arrow and or Tab keys.
 • A combination of the above.
The command line now displays at the bottom of the screen.
__ 24. Remove the forward slash front the front of Command line at bottom and press the Enter
key.
The command line now displays at the top of the screen.
__ 25. Now we’ll see how long messages appear in a pop-up window.
Enter an invalid selection (for example, “xxx”) on the Command line ===>xxx and press
Enter.
A short message reading Invalid command should now appear in the upper right corner of
your screen.
__ 26. Now press F1 to display the corresponding long message.
"xxx is undefined" should now appear in a pop-up window.
Press F1 again for additional help.
Press F3 to return to ISPF Settings panel.
Information
A note about the F3 key, as this is the first time we use it.
In almost all ISPF panels, F3 is the END key: when you press it, you leave the panel you’re in and
return to the panel you came from.
If you press F3 repeatedly, you will eventually be back to the ISPF Main Menu.
__ 27. To continue, clear the command line and press Enter again.
__ 28. Ensure that the option Tab to Option bar choices is selected in the ISPF settings panel.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-20
__ 29. Optional: explore what the other options do (you may not understand them all as this is the
first time you see ISPF.
Place the cursor under an option and press F1 to display its associated help.
Press F3 to close the help and return to the standard panel.
Section 5: ISPF Settings: Action bar choices
__ 30. Use the Tab key to select Function keys on the action bar, which is located at the top of
the panel. When the cursor is under Function keys, press Enter. The Function keys options
appear (see below)
__ 31. Hide the function key display (type 6 and press Enter). Now reset it (type 4 and press
Enter), so that the function key settings are once again displayed at the bottom of the
screen.
__ 32. Select Identifier from the action bar and activate the panel identifier display:
Place the cursor under Identifier and press Enter. This opens an options dialog.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-21
Type 2 (Panel identifier...) and press Enter.
The panel identifier setting opens.
Type a slash (/) next to Display panel identifier and press Enter.
Check your panel for the panel name in the upper left corner. (Most start with “ISP”.)
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-22
Panels can be modified, and this tells us the panelid (member name) of the panel.
Reset the panel identification display to off (repeat the steps above, this time clearing
the slash, “/”, next to Display panel identifier).
Optional, if you feel like exploring a bit more: you can also display the system name and
your user ID on every panel by activating the corresponding option.
__ 33. Press F3 to return to the main ISPF menu.
Section 6: View a data set
__ 34. To view the contents of a data set (recall that, in z/OS, files are called data sets):
Type 1 (View) in the ISPF main menu and press Enter.
There are two ways to view a data set from the View Entry Panel.
__ 35. In the first option, the data set can be entered in the fields under ISPF Library:
Project: High level qualifier of the data set. In this case, it is your TSO user ID.
This should contain your user ID already (so no need to change it). If it doesn’t, type your
userid.
Group: Qualifier of the data set. In this case, it is ES10.
This should already be ES10. If it isn’t, type ES10.
Type: Low level qualifier of the data set. In this case, it is the word TEXT.
If this isn’t TEXT, type TEXT.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-23
The second way to view a data set from the View Entry Panel is in the Other Partitioned,
Sequential or VSAM Data Set, or z/OS UNIX file section.
The data set is entered in the Name field, with apostrophes ('your userid.ES10.TEXT'):
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-24
__ 36. After you entered the data set name (using either method, above), press Enter.
The data set (file) contents will appear (showing a partial screenshot to fit this page):
__ 37. Note the “-Warning- The UNDO command...” message. It is rather annoying and takes
valuable screen space (2 lines out of 32). To remove it, do what the message suggests:
enter “RECOVERY ON” or its abbreviations, “REC ON”:
Press Enter. The message disappears and will not appear again for this data set. This also
enabled the UNDO command, which could be useful to, well, undo mistakes when editing.
Section 7: Exit ISPF
For the moment, our work with ISPF/PDF is done. We now want to end our ISPF/PDF session and
log off TSO.
__ 38. To leave ISPF:
If you are not on the main menu (maybe you’re still on View data set or ISPF Settings),
go back by pressing F3 (End) until you see the main menu.
Enter an X on the main menu’s command line.
You can also press the F3 Key, but X is easier, as F3 opens the Log Data Set Disposition
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-25
dialog (details next), which isn’t used now but remains for historical reasons.
Hint
If you are not on the main menu, you can go back to the main menu by pressing F3 until you get
there. and then enter x (x: exit).
A quicker way of exiting ISPF is to enter =x from any ISPF panel.
You now have ended the ISPF session and returned to the TSO command line
mode. Your TSO session is still running.
Section 8: Log Data Set Disposition
The following information in this section is only for information. Unless log data is generated, you
will not see the Specify Data Set Disposition screen.
ISPF/PDF maintains two data sets for you during your terminal session:
A LOG data set that keeps a record of your transactions while using ISPF/PDF.
A LIST data set that holds information you want to send to the system printer.
The LOG and LIST commands allow you to process the log and list data sets at any time during an
ISPF session. The log and list data sets must have been allocated. You control the data set
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-26
processing by specifying on the LOG or LIST command one of the three keyword options: PRINT,
DELETE, or KEEP.
ISPF maintains a log of significant user activities. This information can be useful, for example,
when diagnosing problems. The log data is stored in a data set named userid.SPFLOGx.LIST,
where userid is your TSO user ID.
At the end of an ISPF session you, as the user, can specify what has to be done with the log data
set. Enter the selection of your choice.
Print data set and delete: Prints the data set, then deletes it. You must specify an output class or a
local printer ID. If you specify an output class, ISPF submits a background job to print and delete
the data set. If you specify a local printer ID, ISPF uses TSO's PRINTDS command to route the
data set to the printer and then deletes the data set.
Delete data set without printing: Just deletes the data set.
Keep data set - Same: This option closes and frees the data set and allocates the same data set in
the next session.
Keep data set - New: This option closes and frees the data set but allocates a new data set when
starting the next ISPF session.
Delete data set without printing or Keep data set - Same is the usual choice unless you have had
problems.
If you do want to print, then the printer class (SYSOUT class) or destination (local printer ID) must
be entered.
Additionally, the four lines of Job statement information must be entered if you use the SYSOUT
option.
The line List Data Set Options not available indicates there is no list data set to print.
If we performed a print under ISPF, then a similar set of options are provided to dispose of the list
data set.
V12.0
EXempty
Exercise 1. System Familiarization
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 1-27
You will see this dialog if you accidentally press F3 on the ISPF main menu instead of X to exit
ISPF. If that is the case, to exit ISPF press Enter.
You can also press F3 again: you’ll be back to the ISPF main menu, where you can enter x to exit
ISPF.
Section 9: Logoff
__ 39. To terminate your TSO session, enter the TSO command logoff on your terminal.
TSO then replies with a message like IKJ56470I userid LOGGED OFF TSO AT ... on ... to
indicate that your TSO session has been terminated.
End of exercise
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-1
Exercise 2. Allocate new data sets
Estimated time
00:45
Overview
This exercise begins with how to access additional assistance, if needed. Then, you will
have the opportunity to allocate a sequential, partitioned, and partitioned extended data
sets. After the allocation process, you will be guided through verifying the successful
allocation of each data set.
Information
Just to clarify some z/OS terminology:
 • In this lab, when you read “allocate a new data set”, it means what other systems call
“create a file”. It is true that “data sets” are not the same as files, but, for the type of data
sets we’ll be working with, it’s OK to think of them as files.
 • A PDS (Partitioned Data Set) is a file that contains other files called “members”. This is
similar to a PC folder that contains files (with one difference: a PC folder may contain
sub-folders. A PDS can only contain members, that is, files).
 • A PDSE (PDS Extended) is a newer version of PDS. They are easier to maintain and manage,
but it is unlikely that you’ll notice a difference. You will normally work with PDSEs.
 • A sequential data set, or sequential file, is just that, a file. Members inside a PDS or PDSE are
sequential data sets. They are called “sequential” because you read them (or write them) one
record at a time, starting from the first record, then the second, and so on, sequentially.
Objectives
• Access additional assistance, as needed.
• Allocate (create) a Sequential Data Set
• Allocate (create) a Partitioned Data Set (PDS)
• Allocate (create) a Partitioned Data Set Extended (PDS/E)
• Verify the successful allocation of the newly created data sets
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-2
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
GC28-1758                             MVS JCL User's Guide
SC26-7410                              z/OS DFSMS Using Data Sets
SG24-7419                             Implementing REXX Support in SDSF
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-3
Exercise instructions
Preface
• This exercise depends on the successful completion of the previous exercise.
Section 1: Lab exercise assistance
In the previous exercise, you saw that there is a tutorial and general help for the ISPF
menu options.
This lab environment is unique in that there is additional assistance available as you
progress through the exercises.
There are two versions of these instructions, which are available:
• One with hints and one without. You can use either version to complete this and all
other exercises in this course. You can flip back and forth between the two versions.
If during any of the lab exercises you require assistance, with allocating data sets,
renaming a data set, and so on, this help feature will be available, if you want to utilize it.
__ 1. Logon to TSO/ISPF (instructions in the previous exercise).
__ 2. From the ISPF Primary Option Menu, type C for Classes and press the Enter key.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-4
__ 3. On the Course Selection Menu, enter the number 1 to access help menu for most of the
labs for course Fundamental System Skills in z/OS.
__ 4. When performing a lab and you require additional assistance, enter the appropriate
selection for the specific lab.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-5
Note
This system is shared with another course. This course (Introduction to z/OS Commands and
Panels on IBM Z) has 7 exercises (labs 1 to 7). Feel free to explore the others, but remember they
are not part of this course.
__ 5. Press the F3 End key until you are at the ISPF Primary Option Menu.
(Remember you may have to hold down the Fn key while pressing the F3 key.)
Section 2: Allocate a Physical Sequential data
set
__ 6. To allocate (create) a physical sequential data set, you’ll use the Data Set Utility ISPF
panel.
From the ISPF main menu, enter 3 (Utilities):
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-6
This will open the Utility Selection Panel:
Enter 2 to go to the Data Set Utility panel:
The Data Set Utility panel (see below) will show.
Hint
To open the Data Set Utility panel, you first entered 3 on the main menu, then entered 2.
You can go directly to the Data Set Utility panel from the main menu by entering 3.2:
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-7
__ 7. Type a (allocate) in the option field. Do not press Enter yet:
__ 8. You’ll allocate a new physical sequential data set named userid.ES10.PS (where userid is
the user ID you used to log on to TSO with).
Type in your userid, ES10, and PS in the fields Project, Group, and Type, respectively.
Note “TSOCA23”, below, is an example; your TSO userid will be different (except for the
one lucky student who gets TSOCA23 as userid!):
You’ve entered all the necessary data; now press Enter.
This opens the Allocate New Data Set panel (shown as two partial screenshots to fit the
page):
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-8
__ 9. Give the new data set the following specifications:
a. We’ll tell the system how much space the new data set will take, in units of disk tracks
Enter trks in Space units (see screenshot below).
b. Two tracks primary space: the data set occupies 2 disk tracks initially.
Enter 2 in Primary quantity.
c. One track secondary space: if the data grows and more tracks are needed, the data set
grows 1 track at a time.
Enter 1 in Secondary quantity.
d. Fixed Blocked length records. All the record have the same size.
Enter FB in Record format.
e. Record length 80 bytes.
Enter 80 in Record length.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-9
__ 10. Do not enter an expiration date; leave expiration date blank for all data sets that you create
in this class. All other fields should be blank.
__ 11. Press the Enter key to allocate the file.
__ 12. After Data set allocated appears in the upper right corner, press the Enter key to see the
allocation attributes on the Data Set Information screen.
Note some fields could be different, but the values you entered should be on display:
Organization: PS (this means physical sequential).
Record format: FB (fixed record length, written to disk in blocks of many records).
Record length: 80 (each record is 80 bytes in size).
Note Block size: the system chose a block size of 27920. On disk, the file is written in
blocks that contain up to 349 80-byte records (27920/80=349). This makes reads and
writes faster and saves space on the disk.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-10
If a Block size of zero is specified (which is what you did, by not entering anything
under Block size), the system will determine the optimal block size based on the
maximum record length (LRECL) and the physical characteristics of the disk. The
system-chosen value is approximately half of a physical track.
The following chart is an example of default Block sizes for a Record Format of
Fixed Blocked:
Section 3: Allocate a Partitioned Data Set
__ 13. You will now allocate another data set, this time a PDS.
To do that: if not already there, go to the Data Set Utility panel again. Ways of doing it
include (feel free to choose the one you like best):
 - From the ISPF main menu, enter 3 (Utilities), then enter 2 (Data Set).
 - More direct: from the ISPF main menu, enter 3.2.
 - Most direct: from any ISPF panel, enter =3.2.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-11
__ 14. Following the same steps as before, allocate a Partitioned Data Set (PDS) named
userid.ES10.PDS (where userid is the user ID you used to log on to TSO with, not
TSOCA23).
Enter a (allocate) in the panel’s Option field, enter the data set name in the fields under
ISPF Library, and then press Enter:
__ 15. At the Allocate New Data Set panel, enter the following specifications for the data set
(note the panel is filled with the values from the last data set you allocated):
a. Space units: BLKS.
b. Ten blocks primary space. Note this time space units is blocks (BLKS), not tracks (TRKS)
c. Five blocks secondary space.
d. Directory size two blocks. This is what makes the data set a PDS: the fact that it contains
a directory (think of it of an index, or catalog, of the members inside the PDS)
e. Variable length records. Individual records inside each member have different sizes, up
to the size specified in Record length (255, see below).
f. Blocked records. When reading or writing, the system reads or writes many records
placed together in a single block.
Enter VB in Record format to specify Variable-length, blocked records.
g. Block size determined by system. Leave the Block size field blank, or enter 0 (zero).
h. Record length 255 bytes.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-12
After typing in all the values, press Enter. The data set is allocated.
__ 16. To verify whether the data set has been allocated properly, use the Data Set information
panel. Press Enter again after allocating the data set. You should see:
Note the Organization is PO: Partitioned Organization (this means PDS).
1st Extent (12 blocks) is the initial space allocation. It consists of the Primary quantity (10
blocks) and Directory blocks (2).
If a block size is not specified for the creation of a data set, the system attempts to
determine the block size.
Using a system-determined block size has the following benefits:
 - The program can write to DASD, tape, or SYSOUT without you or the program
calculating the optimal block size. DASD track capacity calculations are complicated.
Optimal block sizes differ for various models of DASD and tape.
 - If the data set is later moved to a different DASD type, such as by DFSMShsm, the
system recalculates an appropriate block size and re-blocks the data.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-13
Section 4: Allocate a Partitioned Data Set
Extended
__ 17. This time, you will allocate a Partitioned Data Set Extended (PDSE) data set.
You know the steps by now. Here’s a quick reminder:
At the Options field of the panel you’re at, enter =3.2. This takes you directly to the Data
Set Utility panel.
__ 18. At the Data Set Utility panel, enter a in Option and the data set name, userid.ES10.PDSE
(where userid is the user ID you used to log on to TSO with, not the one in the screenshot):
After entering the data set name, press Enter.
__ 19. At the Allocate New Data Set panel, enter to the following specifications (as before, the
panel is filled with the values from the last data set you allocated):
a. Five blocks primary space.
b. One block secondary space.
c. Directory size: leave blank. For PDSE, any value you enter here is ignored.
d. Fixed length records.
e. Block records.
f. Block size determined by system.
g. Record length 80 bytes.
h. Data set name type is Library. This (Library) is what makes the data set a PDSE.
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-14
Information
So, given that both contain members, what is the difference between PDS and PDSE?
When you create a PDS, you specify disk space in two parts: how big is the data set (in tracks,
blocks, cylinders...) and how big is the directory inside the dataset. For example a data set can
occupy 50 tracks on disk, and 2 of those are the directory. The problem with PDS was that you had
to watch 2 resources that could fill up: if your members are too big, they may need more than 50
tracks, and you would end up with a “no more space for data set” situation. If you create too many
members in the PDS, you could have a “no more directory space” error.
When a PDS member is updated, it is written at the end of the PDS, and there remains a “hole”
where the old version was. Same when a member is deleted: it is removed from the directory, but
still occupies its original space on disk. Over time, the PDS starts to look like a Swiss cheese: full
of holes. Eventually, the PDS can run out of space. To prevent that, system administrators must
run the Compress utility periodically.
With PDSE, the directory still exists, but it is managed automatically by the system. You never
have to worry about running out of directory space, or having to run the Compress utility. As you
saw, you don’t even have to specify a directory size when creating a PDSE.
__ 20. To verify whether the data set has been allocated properly, use the Data Set information
panel. Press Enter after allocating the data set. You should see this:
The block size chosen by the system is 32720. This is different from 27920, chosen for
PDS. Other considerations (details beyond the scope of this course) make 32720 better for
PDSE.
Also note this at the top right:
V12.0
EXempty
Exercise 2. Allocate new data sets
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 2-15
Allocated blocks is 6. We specified 5 primary space blocks. We can infer that the PDSE’s
directory has, initially, 1 block.
On a PDS, there will be a maximum number of directory blocks. On a PDSE, you see
“NOLIMIT”.
End of exercise
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-1
Exercise 3. ISPF editor primary
commands
Estimated time
00:30
Overview
In the previous exercise, you created three data sets: a sequential data set, a partitioned
data set, and a partitioned data set extended. In this exercise, you will create a member in
the previously created partitioned data set. You will then edit the member and copy a
member from a different data set into the one you created. After modifying the member,
you will execute a REXX exec and view its output.
Objectives
• Create a member in a partitioned data set
• Edit the member
• Copy a member
• Execute a REXX exec
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
GC28-1758                             MVS JCL User's Guide
SC26-7410                              z/OS DFSMS Using Data Sets
SG24-7419                             Implementing REXX Support in SDSF
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-2
Exercise instructions
Preface
• This exercise depends on the successful completion of the previous exercises.
Section 1: Create a PDS member
In the previous exercise, you created a Partitioned Data Set (PDS) named
userid.ES10.PDS. The userid is the user ID you used to log on to TSO with.
__ 1. From the ISPF Primary Option Menu, access the Edit Entry Panel by entering 2 (Edit) on
the command line (remember to press Enter after typing in 2):
__ 2. The Edit Entry Panel will open. Ensure that the partitioned data set you created in the
previous exercise is in the ISPF Library:
If the data set under ISPF Library is not the PDS you created earlier, make the necessary
changes:
If Project doesn’t show your TSO userid, press Tab until you get to Project and enter your
TSO userid. Not TSOCA23, that’s just an example.
If you pressed Tab too many times and skipped the field you wanted, use SHIFT + Tab to
go back, or keep pressing Tab until the cursor wraps round and lands under the field.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-3
If Group doesn’t contain ES10, press Tab until the cursor is next to Group and enter ES10.
If Type doesn’t contain PDS, press Tab until the cursor is next to Type and enter PDS.
__ 3. Create a member named LITLGAME. Press Tab until the cursor is next to Member and
enter LITLGAME, then press Enter.
Note
Recall that, in z/OS, data set and member names are not case-sensitive. You can type LITLGAME
or litlgame; the member name will always be uppercase.
Section 2: Edit the LITLGAME member
Populate LITLGAME with initial data
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-4
__ 4. The editor panel opens, showing an empty member:
Note the message “-Warning- The UNDO command is not available until you change your
edit profile using the command RECOVERY ON.”
As mentioned earlier, the best thing to do in this case is to enter the command RECOVERY
ON, or REC ON. This will remove the message and enable the UNDO command, which
could be handy if you make changes by mistake.
So, enter REC ON (remember commands are not case sensitive, we show them in
uppercase for readability, but you can enter them in lowercase):
The warning message disappears:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-5
Note that the empty lines (those with “......” on the left) also disappear and what you see is
an empty member (there is a line for “Top of Data” and another with “Bottom of Data”,
with nothing in between.
We are ready to fill in LITLGAME with our data.
__ 5. One way of filling in an empty member is to type the contents we want. Instead of doing
that, we will copy the contents from another data set which contains a member with the
data we need.
The data set containing the member we want is D80WW.ES10V15.EXEC.
Inside that data set, there is a member called SKELEXEC.
We will copy SKELEXEC to our empty LITLGAME.
__ 6. Enter COPY on the command line:
This opens the Edit/View - Copy panel, showing the data set from which to copy the data
(hint: it’s not the one we want!):
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-6
The first line (“Current”) shows where we’re copying to: the LITLGAME member in your PDS
data set. So far so good.
The next section (“From ISPF Library”) says it wants to copy a member from our PDS data
set. Not what we want (remember we want to copy the member SKELEXEC from data set
D80WW.ES10V15.EXEC). So what do we do?
__ 7. Enter D80WW, ES10V15, and EXEC next to Project, Group, and Type (press Tab to get the
cursor to those fields):
You can, if you want, enter SKELEXEC in Member and press Enter. We’ll show you another
way, which you may prefer as it saves you typing the member name.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-7
Press Enter. This opens the Edit Extended Copy panel, showing the list of members in
D80WW.ES10V15.EXEC:
__ 8. Press Tab until the cursor is next to SKELEXEC and type S (select):
Press Enter. This copies SKELEXEC to LITLGAME and goes back to LITLGAME in the Edit
panel, now showing the data just copied (showing partial contents to fit this page):
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-8
We will use the editor to change the character strings “xxxxxxxx” and “@@@”.
Optional, but always a good idea: type SAVE on the command line and press Enter.
This is because, until now, nothing has been written to the data set (that is, to disk). If there was a
crash, your work would be lost and you would have to start again from Step 1.
Make changes to the data just copied
First, we will set the boundaries to columns 1 to 8, then change all xxxxxxxx to the word
ANSWER.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-9
__ 9. Enter BNDS 1 8 on the command line:
This means that FIND and CHANGE commands will only apply to data within columns 1-8.
But how do we know it worked? Glad you asked!
__ 10. To check what the column boundaries are, type BNDS on any of the numbers on the left
and press Enter (press TAB to place the cursor at one of the numbers, in our case, we
went to 000001):
This will add a new line (which is not part of the data) showing the boundaries with “<“
(first column in boundary) and “>” (last):
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-10
Recall that we want to change all xxxxxxxx to the word ANSWER. Looking at the member
contents, the only xxxxxxxx within columns 1-8 is the one at line 2.
Let’s see how that works.
__ 11. OK, time to change all xxxxxxxx to the word ANSWER.
On the command line, enter C xxxxxxxx ANSWER ALL and press Enter:
After pressing Enter, the changed contents should look like this:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-11
Note, to the left of record 2, “==CHG>”, indicating that this line was changed. Also note, no
other line shows “==CHG>” (because all other instances of xxxxxxxx were outside the 1-8
column boundary).
__ 12. We will now reset the boundaries to 1-80 and change all xxxxxxxx to the word NUMBER.
First, to reset the boundaries, enter BNDS on the command line. BNDS without operands
resets the boundaries to the whole record:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-12
After pressing Enter, the BNDS line reflects the new (1-80) boundary:
__ 13. We don’t need the BNDS line any more, so we’ll delete it. Enter d (delete) on “=BNDS>”:
After pressing Enter, the boundary line disappears.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-13
__ 14. To change all xxxxxxxx to the word NUMBER, enter C xxxxxxxx NUMBER ALL on the
command line and press Enter:
After pressing Enter, you’ll see all the changes highlighted (“==CHG>” on the left):
__ 15. What we’re doing next doesn’t make much sense, as there are better ways of doing it, but
we’ll take the opportunity to show you editor functions that could be useful in other
situations.
Exclude all of the lines from the display. Enter X ALL on the command line:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-14
After pressing Enter, you’ll see (splitting the display into left and right to fit this page).
On the left:
On the right:
Information
That’s interesting, excluding all lines. Sounds like a good party trick. What is it for?
Well, the FIND and CHANGE commands have the option of operating on excluded or
non-excluded lines, giving you better control over what to find or change.
If there is a section of code in a program that you don’t want to change, you can exclude that
section and then use C XXX YYY NX ALL (change all non-excluded instances of XXX to YYY).
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-15
__ 16. Display the first line containing @@@ and type over @@@ with the word SAY.
You do this by F @@@ (FIND @@@) on the command line. After pressing Enter, the first
line that contains @@@ appears:
Type SAY over @@@:
__ 17. Use the RFIND (REPEAT FIND) key (F5) to find all further occurrences of @@@ and type
over them with the word SAY.
Each time you press F5, a new line that contains @@@ will appear. Type SAY over @@@
and press F5 again.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-16
When there are no more instances of @@@ in the member, you’ll see the message
“Bottom of data reached” on the top right:
__ 18. Show all of the lines on the display that have been previously excluded. Enter RESET (or
RES) on the command line:
The excluded lines now reappear:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-17
This is a REXX program, which we will (optionally) run next. Before that, there is one more
change we must apply: the first line in a REXX program must be a comment (text between
/* and */) that contains the word REXX.
Press Tab to place the cursor in the first line and change it from
THIS IS A LITTLE REXX-EXEC...
...to
/*THIS IS A LITTLE REXX-EXEC*/:
__ 19. Set the boundaries to 40-50. You know this: enter BNDS 40 50 on the command line.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-18
__ 20. Change SAY to Y/N. Enter C SAY Y/N on the command line and press Enter. You’ll see
this change near the end of the member:
__ 21. Reset the boundaries to 1-80: Enter BNDS on the command line.
__ 22. Enter SAVE on the command line to save your changes. This is important, as the program
will run from disk, and we need the latest version, with all the changes written out.
Check that you see “Member LITLGAME saved” at the top right after pressing Enter:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-19
Optional
Enter HILITE AUTO on the command line to enable the coloring options for language sensitive
coloring in the ISPF editor.
You will see that different elements of the program (comments, instructions, variables...) are
shown with different colors:
__ 23. Optional: run the program. Don’t worry if the program doesn’t run, the objective of this lab
was to show how the editor works.
Start the REXX program (also called REXX EXEC) by entering the following on the
command line: TSO EXEC ‘userid.ES10.PDS(LITLGAME)’
You can also enter EX instead of EXEC: TSO EX ‘userid.ES10.PDS(LITLGAME)’.
For example (remember your userid will be different):
Press Enter. The program starts; you’ll see this first:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-20
See the three asterisks (***)? Press Enter!
Enter your guesses, then enter ‘n’ to stop the program:
Again, three asterisks - press Enter. You’ll be back to editing LITLGAME.
__ 24. What if it doesn’t work? Compare your version of LITLGAME with the one below, and make
sure yours matches by making the necessary changes in the editor. Remember to SAVE
when you’re done.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-21
/*THIS IS A LITTLE REXX-EXEC*/
ANSWER ='Y'
DO WHILE ANSWER='Y'
GUESSNUMBER=1
 NUMBER=RANDOM(1,50)
 SAY "Let's play a little game. I think of a number between"
 SAY "1 and 50 and you have to guess it!"
 say "OK, I picked a number."
 DO UNTIL NUMBER=GUESS
 SAY "Enter guess #"GUESSNUMBER;PULL GUESS
 IF GUESS>NUMBER THEN SAY "Too big!"
 IF GUESS<NUMBER THEN SAY "Too small!"
 GUESSNUMBER=GUESSNUMBER+1
 END
 SAY "You are right, my number is" NUMBER
 SAY "Would you like to play another game? (Y/N)";PULL ANSWER
END
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-22
Section 3: Ending the exec
__ 25. If you don’t want to play the game once you started the program, you can cancel it: press
PA1 on the keyboard. Right-click anywhere on the panel to display the pop-up keypad
and click on PA1:
You’ll see this after pressing PA1:
,
__ 26. Enter HI (Halt Interpreter) to end the program:
Note you may have to press Enter twice. The program will end:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-23
Press Enter to return to the Editor.
__ 27. When you have finished playing computer games, take a few minutes to inspect the code.
LITLGAME.
LITLGAME is written in a procedural language, called REXX.
REXX programs (or execs) can be compiled or not, as you choose. This program has
not been compiled, and so it is interpreted as the instructions are executed,
resulting in poorer performance, but less administration work.
__ 28. Before logging off or continue on to the next exercise, ensure that you reset the BOUNDS
(enter BNDS on the command line and press Enter).
__ 29. You can stay logged on if you plan to do the next exercise now. If you want to logoff:
Enter =x on the command line an press Enter.
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-24
This will end ISPF and take you to the TSO command line, where you’ll see the TSO
“READY” prompt:
__ 30. Type LOGOFF and press Enter:
You’ll be logged off and shown the logon prompt, in case you want to log back on:
__ 31. Close the terminal emulator. Click on Communication (at the very top of the PCOMM
window, then click on Disconnect:
V12.0
EXempty
Exercise 3. ISPF editor primary commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 3-25
Now you can close the window (X at the top right-hand corner, like any other Windows
application).
To start the terminal emulator again, double-click on the desktop icon (see Exercise 1 if you need
a refresher).
End of exercise
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-1
Exercise 4. ISPF editor line commands
Estimated time
00:30
Overview
In this exercise, you will create a member in a previously allocated partitioned data set.
You perform functions, such as copying data, overlaying commands, inserting and
repeating lines using the newly created member.
Objectives
• Create a member
• Copy data
• Overlay commands
• Insert lines
• Repeat lines
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
GC28-1758                             MVS JCL User's Guide
SC26-7410                              z/OS DFSMS Using Data Sets
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-2
Exercise instructions
Preface
• This exercise depends on the successful completion of the previous exercises.
Section 1: Create a new member and copy data
__ 1. Edit userid.ES10.PDS and create a new member called TABLE.
For details on how to edit, see the previous exercise. Here’s a quick reminder:
Enter 2 (Edit) on the ISPF Main Menu command line. This opens the ISPF Edit Entry Panel.
Make sure that ISPF Library fields show your userid, ES10, and PDS. If they do not, press
Tab to place the cursor on Project (enter your userid), Group (enter ES10), and Type
(enter PDS).
Press Tab to place the cursor next to Member, and enter TABLE.
You should see this:
Press Enter. This will open the editor panel and show an empty TABLE member.
If the ==MSG> lines appear (“The UNDO command...”), enter REC ON on the command
line to remove them.
__ 2. Enter HILITE AUTO on the command line to enable the coloring options for language
sensitive coloring in the ISPF editor.
__ 3. Did you remember to reset the boundaries at the end of the last exercise? Just in case,
enter BNDS on the command line (and press Enter).
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-3
__ 4. Tab the cursor to the second set of lines ("Bottom of Data"), and enter COLS on the prefix
area on the left.
Note: it is important that you skip the first line (“Top of Data”), as you cannot enter COLS
there. Any other line is OK.
The ruler should appear, and should look like this:
__ 5. You will now set up a line which looks like this (instructions next):
To do this, first enter I (Insert) on the =COLS> prefix:
This will insert an empty line:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-4
Enter vertical bars (“|”) at columns 1, 16, 32, and 48 and press Enter. This gives you a new
empty line in case you want more lines. As you don’t, press Enter again to remove that empty
line.
__ 6. Copy member TABLE from D80WW.ES10V15.CNTL after line 1.
In the last exercise, you did this by entering COPY in the Edit command line (if you recall,
this opened a panel where you selected the source data set and member).
Now we’ll try a more direct method:
a. Tab to the line 000001 prefix and enter a (a is for after; this tells the editor to place the
copied records after line 1). Do not press Enter yet:
b. Tab to the command line and enter COPY 'D80WW.ES10V15.CNTL(TABLE)' on the Edit
command line:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-5
Note
A brief note about the 'D80WW.ES10V15.CNTL(TABLE)' notation. This is TSO way of referring to
a dataset and, optionally, member (the other way we’ve seen, “the ISPF way”, is to fill in Project,
Group, Type, and Member under ISPF Library in an ISPF panel).
The format is ’data set name(member name)’.
The single quotes are important. If you don’t put single quotes around the data set and member,
TSO will prefix your userid.
This may save you some typing if your data set name starts with your userid: instead of typing
’userid.ES10.PDS’ you can omit the userid and the single quotes: ES10.PDS.
c. Press Enter. The copied lines will appear:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-6
d. Optional: We no longer need the ruler. If you want to remove it, enter RES (RESET) on the
command line and press Enter.
Note
You know this, but just in case: if the BOUNDS command was not reset from the previous
lab exercise, results in the following steps are unpredictable.
If you want to make sure, enter BNDS now in the command line and press Enter.
Section 2: Copy / overlay commands
Now you’ll use copy/overlay (c and oo) to copy line 1 over the first four lines you copied in, so the
result looks like this:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-7
__ 7. First enter c (copy) on the line 000001 prefix (do not press Enter yet):
This tells the editor that you want to copy line 1 to another place in the member.
Usually, you will go to another line and enter a (after) or b (before). The editor will insert a
copy of line 1 either after or before the target line.
We’ll try something a bit more interesting: instead of copying before or after a line, we will
overlay lines with the contents of line 1. We’ll go further, instead of overlaying one line,
we’ll overlay four.
__ 8. Tab to line 000002 and enter oo, indicating the first line to be overlaid, then tab to line
000005 and enter oo (this marks the last line to be overlaid). The prefix area should look
like this:
Press Enter. You should see this:
Magic! What did just happen? Copy/overlay copied non-blank data from line 1 to blank
columns in lines 2-5. Note that copy/overlay only replaces blank columns. If a column in
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-8
the target is not blank, it is not replaced by data from the source.
Optional: you can verify this by doing an experiment. Try to copy/overlay from line 8 to line
9:
Nothing happens, because there are no non-blank columns in line 8 with corresponding
blank columns in line 9:
Section 3: Insert lines
Now we’ll use move/overlay, that is m and oo, to move line 1 over the last six lines you copied in,
so the result looks like the following:
Note the original line 1, with the vertical bars, is no longer there. This is the difference between
copy (where the original remains in place) and move.
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-9
__ 9. Tab to line 1 and type m. Then tab to line 6 and type oo. Finally, tab to line 11 (the last
line) and type oo:
__ 10. Press Enter. You should see:
__ 11. If you haven’t done it already, this may be a good time to remove the ruler. Enter RES
(RESET) on the command line and press Enter.
Next, you’ll insert the following heading lines at the top of the table...
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-10
...and the following trailing line at the bottom of the table:
To do the above:
__ 12. First, tab to the top prefix (before 000001) and enter i (insert):
Press Enter. The inserted line appears:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-11
__ 13. Type the headings in the inserted line:
Press Enter. A new empty line (between lines 1 and 2) should appear:
If you did something different and there is no empty line: tab to line 1, enter i, and press
Enter to insert an empty line.
__ 14. Type "===...===TOP OF TABLE===...===" in the inserted line, then Press Enter. A new
empty line appears automatically, in case you want more. As you don’t want more lines,
press Enter again (the new empty line disappears). The result should look like this:
Note the "=" characters fill the line. They were omitted from the screenshot to fit the page.
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-12
__ 15. Copy line 2 after the last line and change "TOP" to "BOTTOM".
Tab to line 2 and type c (copy). Then tab to the last line, 12, and type a (after):
Press Enter. You should see:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-13
__ 16. Type BOTTOM OF TABLE, aligned with "Bottom of Data" and press Enter:
Section 4: Add and repeat lines
__ 17. Add a new line after Bush (tab to line 11, enter i) and type Cyrus, Will, WCYRUS, 31823
(remember to also type the vertical bars):
Press Enter twice after typing.
__ 18. Repeat entry Davis (tab to line 5, enter r) and change the repeated line to Davis, Sarah,
SDAVIS, 31945:
__ 19. Insert a new line after Newman, and enter Claudia as first name:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-14
__ 20. Use copy/overlay, that is c and o, to copy the old entry Newman (tab to line 14, type c)
over the new line (tab to line 15, enter o):
__ 21. Change the user ID to CNEWMAN and the phone to 31654:
Finally, we’ll sort the lines by Family name and Given name.
__ 22. Exclude the header and trailer lines. Type x on lines 1, 2 and 16:
Press Enter. The lines where you entered x disappear (they are not deleted, just hidden).
This is the right of the screen:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-15
__ 23. Display the ruler, so we know which columns to sort. Enter COLS in the first line (any line is
OK, apart from the top):
The ruler appears:
We can see that Family name is in columns 3 to 15 and Given name in columns 18 to 31.
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-16
__ 24. To sort the lines by Family name followed by Given name, enter SORT NX A 3 15 A 18 31:
Where:
SORT: the SORT command.
NX: sort only non-excluded lines. The excluded lines remain where they are.
A 3 15: Ascending, columns 3 to 15 (Family name).
A 18 31: Ascending, columns 18 to 31 (Given name).
Press Enter. You should see:
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-17
__ 25. Enter RES (RESET) to show the hidden lines:
__ 26. Congratulations! Save your work by entering Save on the command line.
__ 27. Press F3 to exit the editor (this would also save your work, if you forgot to do it). Keep
pressing F3 until you return to the Main Menu.
Information
What if you realize you made a mistake, and don’t want to save your work?
In that case, you can enter CAN (or CANCEL) on the command line. This will exit the editor
without saving the data.
If you entered REC ON (RECOVERY ON) when you first opened the data set in the editor, you can
also enter UNDO to, well, undo the last change. You can repeat UNDO to reverse changes, one at
a time, until the last SAVE.
__ 28. Optional. Logoff if you are not doing the next exercise immediately. (See instructions for
logging off at the end of Exercise 1.)
V12.0
EXempty
Exercise 4. ISPF editor line commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 4-18
End of exercise
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-1
Exercise 5. Copy, move, rename, delete
data sets and members
Estimated time
00:30
Overview
In this exercise, you will allocate (create) data sets and create multiple members. After
creating new members, you will add data to those members. Then, copy members from
one data set to another. When completing this process, you learn how to delete data sets
and members.
Objectives
• Allocate data sets
• Create members
• Add data to members
• Copy members from one data set to another
• Delete members
• Delete data sets
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-2
Exercise instructions
Preface
• This exercise depends on the successful completion of the previous exercises.
Section 1: Copy, move, rename, delete data sets,
and members
Allocate new datasets
We’ll start by allocating two new data sets called userid.ES10.INDATA and
userid.ES10.OUTDATA. The new data sets will be like userid.ES10.PDS (that is, they will have
the same attributes, like record format, or size).
__ 1. First, we must go to the ISPF Data Set Utility panel. As you know, you can select 3
(Utilities) on the ISPF Main Menu, then 2 (Data Set).
But, but now, you’re a pro, and you know that you can enter 3.2 on the ISPF Main Menu
command line to go directly to the Data Set Utility panel.
If you are not on the Main Menu, you can enter =3.2 from any other panel to go directly to
the Data Set Utility panel.
__ 2. When you tell ISPF to allocate a new data set, it will present a panel already filled with
suggested attributes (space units, primary and secondary quantity, record size and
format...).
Q. Where do the suggested attributes come from?
A. ISPF shows the attributes from the last data set it used.
So, if we want to allocate a data set that has the same attributes as userid.ES10.PDS, we
start by displaying it:
On the Data Set Utility panel, enter your userid, ES10, and PDS under ISPF Library:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-3
Important
Remember that the userid in the screenshots (in the example below, TSOCA23) is not what you
will enter. Wherever you see TSOCA23 (or any other userid), you must use your TSO userid, which
you found under CREDENTIAL INFORMATION in the Course Lab Kit and used to logon to z/OS.
Press Enter. This will display the data set attributes (showing a partial screen to fit the page):
Having displayed the data set attributes, ISPF now remembers them and will use them when you
allocate a new data set.
Press Enter again to return to the Data Set Utility panel.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-4
__ 3. Allocate a new data sets called userid.ES10.INDATA:
Type a (allocate) on the command line (do not press Enter yet).
Type INDATA next to Type under ISPF Library (Project and Group should already have
your userid and ES10):
Press Enter. This will show the Allocate New Data Set panel with the proposed data set
attributes, which are copied from userid.ES10.PDS (the last data set ISPF displayed):)
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-5
Press Enter to accept the displayed attributes and allocate (create) the data set. This
returns to the Data Set Utility panel and shows the confirmation message “Data set
allocated”.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-6
__ 4. Allocate a new data set called userid.ES10.OUTDATA. You know this: repeat the previous
step, but this time enter OUTDATA in ISPF Library Type:
Create and edit a new member
You will now create a new member called A in userid.ES10.INDATA, and enter some test data
into it.
You can enter your coworkers names, your family names, etc.
__ 5. The easiest way to create a new member called A in userid.ES10.INDATA is to use the
Editor.
After allocating userid.ES10.OUTDATA, you’ll be back on the Data Set Utility panel.
Enter =2 on the command line to go to Edit:
This will display the Edit Entry Panel:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-7
Note that the data set displayed under ISPF Library may not be the one you want
(userid.ES10.INDATA).
__ 6. Make sure that ISPF Library contains:
Project: your userid.
Group: ES10.
Type: INDATA (The other two will probably be already there, this one you have to enter.)
Member: A.
The panel should look like this (again, TSOCA23 is an example; enter your userid instead):
Press Enter to open the editor. This will show the empty member called A:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-8
Note the warning message about UNDO. This is because this is the first time you edit this
data set (not a surprise, as we just created it).
__ 7. Enter REC ON (RECOVERY ON) to enable UNDO and remove the warning message:
Press Enter. You should see:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-9
__ 8. We’ll now insert three names in member A.
Type I3 (insert 3 lines) in the top prefix:
Press Enter. Three empty lines appear:
__ 9. Press Tab to place the cursor in each line and enter random text on the three lines. For
example, three names:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-10
__ 10. Press F3 (END) to save the member to disk and close the editor.
You’ll be back to the Edit Entry Panel. You should see a “Member A saved” confirmation
message:
Create nine new members
Your next task is to create nine new members called B through J which contain the same data as
member A.
There are three ways to do this: the CREATE Edit command, the COPY Edit command, and the
Copy Utility.
We will do the following:
 • Create member B using the CREATE edit command.
 • Create member C using the COPY edit command.
 • Create member D using the Copy Utility.
You will then create members E through J using the method you like best.
Let’s start by creating member B using the CREATE edit command.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-11
__ 11. Open member A of userid.ES10.INDATA in the editor.
If not already in the Edit Entry Panel, enter =2 from wherever you are to get there. You
should see:
If Project, Group, or Type are not as above, Tab to the fields and enter the correct values
(your userid, ES10, and INDATA).
Tab to Member and Enter A:
Press Enter. This will open member A in the editor and show the lines you entered before:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-12
__ 12. To create member B with the same contents as A:
Enter CREATE B in the command line (do not press Enter yet).
This tells the editor to create a member called B.
Enter C99999 in the line 1 prefix.
This tells the editor to copy all the lines in A to B.
Note
C99999 means “copy 999999 lines from here”. Bit of an overkill, but this is a good way to say
“copy all the lines from here”.
You could have also entered “C3” (copy 3 lines).
If you enter “C1”, or just “C” on a line, member B will contain just that line.
Press Enter. You should receive the confirmation message “Member B created”:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-13
Wait a minute! How do we know that member B has the expected contents? OK, if you don’t
believe us, try this:
__ 13. Enter EDIT B on the command line to open B in the editor:
Press Enter. This will show:
Note the first line: the member being edited is B, and it has the same contents as A.
Happy?
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-14
__ 14. Press F3 to close B and return to A:
__ 15. Press F3 again to go back to the Edit Entry panel (we need that panel to create member C
using the other method).
If all goes to plan, you’re now here:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-15
__ 16. One down, two to go. Now we’ll create member C using the COPY edit command.
Tab to Member and Enter C:
Press Enter. This opens the empty C member in the editor:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-16
__ 17. Enter COPY A in the command line, then press Enter. This will copy all the lines from A to
C and show:
Success! Press F3 to save member C and exit the editor. You should be back to the Edit
Entry panel and have the “Member C saved” confirmation message:
__ 18. Our third (and last) method is the Copy Utility.
To go to the Copy Utility you can enter 3 (Utilities) on the Main Menu, then 3 again
(Move/Copy).
We’ll go directly to the Move/Copy Utility panel by entering =3.3 from where we’re now,
the Edit Entry panel:
This will take directly to:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-17
On the left, you have two options that you can enter on the command line: C (copy) or M
(move).
Next, you have the “From ISPF Library” fields, where, as the name suggests, you select the
data you are copying from.
__ 19. We’ll copy member A to member D. As member D doesn’t exist, it will be created.
Enter C in the command line (do not press Enter yet).
Tab to Member and enter A:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-18
Press Enter. This will open the panel to specify the “Copy/Move To” data set or member:
Note the first line: we’re copying from ‘userid.ES10.INDATA(A)’.
Below you can specify where you want to copy A to. So far we created members B and C,
we will now create member D. Before we do that, a look at the options to the right of the
panel:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-19
Note the “Replace like-named members” option. In this case, the member we copy to (D)
doesn’t exist, so we can ignore it. If we were copying from A to (say) B, which does exist,
we would have to enter “/” to specify that B is replaced, otherwise the copy will not go
ahead.
__ 20. Tab to Member and enter D:
Press Enter. This will copy A to D (and also create D). You’ll be back to the Copy/Move
Utility panel and should see a “Member A copied” confirmation message:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-20
Information
Not convinced? Need more details? You can press F1 to get more information about the “Member
A copied” message.
If you press F1 when a confirmation message appears at the top right-hand corner, you will see
extra information about that message. In this case, after pressing F1, you’ll see this at the bottom
of the panel...
...confirming that member A was copied to member D.
__ 21. Now that you’ve seen the three possible ways of creating new members with the same
contents as member A, use the method you liked best/found easier to create members
E to J.
When you’re done creating all the members, do this to verify that everything went OK. Go
to the Edit Entry panel (enter =2 from any panel):
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-21
Leave the Member field empty and press Enter. This will open the data set member list:
As you can see, there are 10 members, names A to J, all of them with 3 records.
Copy all members to another data set
Now we’ll copy the entire data set userid.ES10.INDATA into userid.ES10.OUTDATA.
__ 22. Enter =3.3 from any panel to go to the Copy/Move Utility panel. For example, if you still are
on the previous panel:
Press Enter. This takes you to:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-22
Note we already have the correct “From” data set, userid.ES10.INDATA.
__ 23. Enter C (Copy)in the command line (do not press Enter yet).
We want to copy the entire data set. This means copying all the members. To do that, tab
to Member and enter * (asterisk means “all members”):
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-23
Press Enter. This will open the panel to select the “To” data set:
Note the “To” data set is the same as “From”. We need to change it.
__ 24. Tab to Type and enter OUTDATA:
Press Enter. This will copy all the members in userid.ES10.INDATA to
userid.ES10.OUTDATA.
You’ll be back to the Copy/Move Utility panel and should see a confirmation message (“10
members copied”):
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-24
Press F1 to get more information about the message. You should see this at the bottom of
the panel:
__ 25. Change the contents of members D and H in userid.ES10.INDATA.
Enter =2 in the current panel to go to the Editor:
Press Enter to open the Edit Entry panel.
Note
As you can see, you can enter “=2” (or any other option) in fields other than the command line.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-25
Not all fields, though. If you want to be safe, always enter =2, =3.3... in the command line.
__ 26. We’ll start by changing member D. On the Edit Entry panel, tab to Member and enter D:
If the data set under ISPF Library is not userid.ES10.INDATA, tab to the fields and make
the necessary changes.
Press Enter. This opens member D in the editor:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-26
__ 27. Now we’ll make a change. We’ll repeat the first line.
Tab to the line 1 prefix and type R:
Note that, although not strictly necessary, we type a space after R, as Jeff suggests in the
video.
Press Enter:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-27
__ 28. Enter SAVE in the command line and press Enter:
We have changed member D. Now we want to change member H.
One way to do this is to use the editor copy member D to member H, but how? We cannot
use CREATE as last time, as member H now exists and cannot be created.
Not a problem, we can use the REPLACE edit command. Let’s see how that works.
__ 29. On the editor command line, type REPLACE H (do not press Enter yet).
On the Line 1 prefix area, type C99999, as before (C4, or even C99 will do, if you prefer):
Press Enter. You should see the “Member H replaced” confirmation message:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-28
(Feel free to enter EDIT H to double check if you don’t believe us. Remember to press F3
to close H afterwards.)
Press F3 to close the Editor.
__ 30. Now that we changed the contents of members D and H in userid.ES10.INDATA, we want
to copy them again to userid.ES10.OUTDATA.
This time members D and H exist in userid.ES10.OUTDATA, so we’ll need to use the
Replace option.
Enter =3.3 and press Enter to go to the Copy/Move Utility panel:
“From ISPF Library” should already point to userid.ES10.INDATA. Change it to
userid.ES10.INDATA if not.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-29
__ 31. Enter C (Copy) in the command line (leave the Member field empty):
Press Enter. This opens the “To” selection panel:
__ 32. As before, we’ll need to tab to Type and change INDATA to OUTDATA:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-30
__ 33. Check the options to the right of the panel. Members D and H exist on
userid.ES10.OUTDATA; we want to replace them. Tab to Replace like-named members
and enter a slash (“/”):
Press Enter.
__ 34. Because we didn’t enter a member name in the “From” data set, ISPF shows us the list of
all members in userid.ES10.INDATA:
As you see, all the members have 3 records, except D and H, which have 4. Those are the
changed members we want to copy.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-31
__ 35. Tab to D and enter S (Select), then tab to H and enter S:
Press Enter. This copies the two selected members. You should see this:
Note “*REPL” next to D and H, confirming they have been replaced.
__ 36. Verify whether the members D and H have been copied correctly by editing or viewing
them.
You know how to do this by now, so we won’t go into more detail.
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-32
Deleting and renaming members and data sets
We reached the last part of this lab, where you’ll perform these tasks:
 • Delete userid.ES10.INDATA.
 • Rename userid.ES10.OUTDATA to userid.ES10.DATA.
 • Delete all members in userid.ES10.DATA except members A, D, and H.
 • Rename these members to DATA1, DATA2, and DATA3, respectively.
 • Move members DATA1 and DATA3 to userid.ES10.PDS.
 • Delete userid.ES10.TEXT and userid.ES10.PDSE.
As you know the basics by now, in this section we’ll provide general hints instead of detailed
instructions.
Let’s get going!
__ 37. Delete userid.ES10.INDATA.
To do this, enter 3.2 from the ISPF Main Menu (or =3.2 from any panel) to open the Data
Set Utility panel.
Enter D (delete) on the command line, enter your userid, ES10 and INDATA in ISPF
Library, then press Enter.
This confirmation panel appears:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-33
Press Enter to delete the data set. You’ll be back to the previous panel and will see the
“Data set deleted” confirmation message.
If you change your mind and do not want to delete the data set, you can press F3, enter
CANCEL on the command line, or enter EXIT on the command line, to return to the
previous panel without deleting the data set.
__ 38. Rename userid.ES10.OUTDATA to userid.ES10.DATA.
You’re back on the Data Set Utility panel after deleting userid.ES10.INDATA in the last
step (if you’re not, enter =3.2 to get there).
Enter R (rename) on the command line, enter your userid, ES10, and OUTDATA in ISPF
Library, then press Enter.
The Rename Data Set panel appears:
Change Type from OUTDATA to DATA and press Enter. You’ll be back to the previous
panel and will see the “Data set renamed” confirmation message.
__ 39. Delete all members in userid.ES10.DATA except members A, D, and H.
To do this, you will use the Library Utility: from the Main Menu, this is option 3 (utilities)
then option 1 (library).
Enter 3.1 on the Main Menu or =3.1 on any panel to open the Library Utility panel. To fit all
the information to the page, we’ll split the screenshot in three parts. This is the left side of
the panel, where you see which options you can enter on the command line and, below,
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-34
the usual ISPF Library fields.:
This is the center, showing more options (note you can, for example, edit a member from
here):
More options to the right of the panel:
This utility is for working with members in a PDS or PDSE. Although we can delete one
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-35
member at a time using the D (delete) option, we’ll do it from the member list.
Leave the command line blank (Display the member list option).
Under ISPF Library, enter your userid, ES10, and DATA.
Press Enter. This will show a panel listing all the members in userid.ES10.DATA.
Enter D (delete) next to all the members, except A, D, and H (use tab to place the cursor
next to each member):
Press Enter. This will open a confirmation panel. For each member, press Enter again to
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-36
confirm deletion. You can also enter a slash (“/”) next to “Set member delete confirmation
off” if you prefer (but it may be safer to keep confirmation on). After all members are
deleted, you will see:
__ 40. Rename members A, D and H to DATA1, DATA2, and DATA3, respectively.
Note that member A doesn’t show on the screenshot above, as ISPF automatically scrolls
to the first deleted member. Enter REFRESH on the command line:
This will show the updated member list:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-37
Enter R to the left of each member, and DATA1, DATA2, and DATA3 to the right:
Press Enter. The panel will show “*Renamed” next to each member:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-38
Enter REFRESH on the command line. This refreshed panel will show the new member
names:
__ 41. Move members DATA1 and DATA3 to userid.ES10.PDS.
Type M (move) next to DATA1 and DATA3:
Press Enter. This opens the Move Entry panel asking for the target data set:
V12.0
EXempty
Exercise 5. Copy, move, rename, delete data sets and members
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 5-39
Enter PDS in Type, to select userid.ES10.PDS as target, and press Enter. The members
are moved:
Enter REFRESH:
__ 42. Delete userid.ES10.TEXT and userid.ES10.PDSE.
The panel you’re currently on is for managing members of PDS or PDSE data sets. To
delete a data set, enter =3.2 to go to the Data Set Utility panel.
Enter D (delete), enter your userid, ES10 and TEXT in ISPF Library, press Enter to delete
and Enter again to confirm. Repeat for userid.ES10.PDSE.
This is the end of a rather long exercise. Congratulations!
End of exercise
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-1
Exercise 6. Data set lists
Estimated time
01:00
Overview
During this exercise, you will have the opportunity to become familiar with the options
offered by the ISPF Data List panel. Using this menu, you will display data sets and move
members.
The ISPF Data Set List panel is versatile and easy to use; most ISPF users do almost
everything from this panel.
Objectives
• Utilize the ISPF Data List panel
• Display data sets
• Move members
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
SC26-7410                              z/OS DFSMS Using Data Sets
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-2
Exercise instructions
Preface
• This exercise depends on the successful completion of the previous exercises.
Section 1: Data set lists
In this exercise, you will use the Data Set List utility to perform the following tasks:
__ 1. Display a list of all data sets starting with your user ID.
First, open the Data Set Utility panel. Enter 3.4 on the Main Menu, or =3.4 from any other
panel. This will show:
You will see your userid (not TSOCA23) in Dsname level. This tells the utility to list all the
data sets that start with your userid. In z/OS terms, the utility will list all the files that have
your userid as high-level qualifier. As most data sets you’ll work with will start with your
userid (this simplifies security settings) this is the high-level qualifier you will probably use
most of the time.
Ignore the Volume field below. It is from a time when data sets could be “not cataloged”
and the system didn’t know where they were, so you had to tell it.
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-3
Press Enter. The data set list appears, showing all the data sets that start with your userid.
You will recognize data sets you created in previous exercises. Other data sets are created
by ISPF or by the system when your userid was created:
Note
The first entry, with just your userid, is the catalog entry. This is what tells the system (among
other things) where to find your data sets. It is managed by the system administrator and the
system itself, and it is better not to touch it. You can exclude it from the list if you append “.*” to
the Dsname level, like this:
Most users do this, and we suggest you do too.
Optional: try it now. Press F3 to return, enter your userid.* in Dsname level, and press Enter.
From this point on, our examples will use userid.* as Dsname level.
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-4
__ 2. Determine the record length and block length of userid.ISPF.PROFILE:
a. Record length:                    
b. Block size:                      
To do this, tab to the data set and enter S (Short information) or I (Information). Both open
a panel showing the information you’re after:
Press Enter. This shows the Data Set Information panel, where you can see, among other
data set attributes, Record length and Block size:
Take a minute or two to see the other attributes, such as disk space used. Don’t worry
about the ones you don’t understand, most are managed by your system administrator.
Press F3 or Enter to return to the data set list.
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-5
__ 3. Display a list of all members of userid.ES10.PDS.
To display a member list, tab to the data set and enter M (for, no surprises, Member list):
Press Enter to display the member list:
Information
A brief digression:
Wait a minute, I hear you say. Nice of you to tell me M is for Member list. How do I find out for
myself? How do I know that here M means Member list and not Move?
ISPF comes with a very good help system, which you access by pressing F1 (Help). If you press F1
on the Data Set List panel, you will see all the commands that you can enter next to a data set
name (we will practice some of them in this lab):
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-6
The screenshot above is very busy and barely readable (sorry), so we’ll paste it below in three
sections:
To the left, you have:
You already used a few of the functions listed above (Edit, Delete, Rename...), including S and I,
from the previous step.
In the center you’ll see the command we’re using now, M:
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-7
From the commands shown on the right, you used Copy and Move in the last exercise:
Don’t worry about the ones you don’t understand; this course covers the ones you’ll most
frequently use. You’ll learn others as you need them in your daily work (for this, F1 is your friend).
Feel free to spend time reading the help (press F1) to get to know ISPF better.
__ 4. Delete member DATA1.
To do this: tab to DATA1, enter D (delete), press Enter to delete DATA1, and press Enter
again to confirm.
Optional: enter REFRESH on the command line to update the display.
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-8
Note
This is an alternative to the way we deleted members (using option 3.1, Library Utility) in the last
exercise. As you will see, in ISPF you can perform most tasks without leaving option 3.4, Data Set
List.
This is why we say that, when working in ISPF, you’ll spend most of the time in option 3.4.
__ 5. Rename member DATA3 to DATA.
To do this: tab to DATA3, enter R (rename), tab to place the cursor to the right of DATA3,
type DATA:
Press Enter to rename DATA3:
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-9
Enter REFRESH on the command line to update the display:
__ 6. Move member TABLE to data set userid.ES10.DATA. Verify the move by displaying a
member list of userid.ES10.DATA.
Tab to TABLE and enter M (Move):
Press Enter. This opens the panel to select the move target. Select your
userid.ES10.DATA:
Press Enter. You should see:
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-10
Enter REFRESH to verify that TABLE is no longer in userid.ES10.PDS:
Verify the move by displaying a member list of userid.ES10.DATA. Press F3 (End) to
return to the Data Set List panel.
Tab to your userid.ES10.DATA and enter M (Member list):
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-11
Press Enter. TABLE is now in userid.ES10.DATA:
__ 7. Delete member DATA2 of data set userid.ES10.DATA.
You know this by now: tab to DATA2, enter D (Delete), press Enter to delete DATA2, and
press Enter again to confirm:
V12.0
EXempty
Exercise 6. Data set lists
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 6-12
__ 8. Delete data set userid.ES10.PS.
Press F3 (End) to go back to the Data Set List panel.
Tab to your userid.ES10.PS, enter D (Delete), press Enter to delete the data set, and
press Enter again to confirm:
__ 9. Delete data set userid.ES10.DATA.
You know how to do this by now...
__ 10. Return to the ISPF Primary Option menu. (Press F3 until you get there.)
End of exercise
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-1
Exercise 7. Using TSO/E commands
Estimated time
00:45
Overview
This exercise guides you through using TSO commands to manage data sets.
Objectives
• Utilize TSO commands
• Allocate data sets
• Verify allocation of data sets
References
SC34-4823                              Interactive System Productivity Facility (ISPF) User's Guide
SC28-1968                              TSO/E User's Guide
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-2
Exercise instructions
Preface
This is a short exercise that covers the very basics of TSO commands. We don’t go into more
details because most of the time you will be working in ISPF, which uses TSO under the covers,
but presents a friendlier user interface.
Section 1: Accessing the TSO command line
__ 1. Select option 6 (Command) from the ISPF Primary Option Menu.
ISPF allows TSO commands, CLISTs, and REXX execs to be entered in the command input field of
any panel. That is, you can enter commands on the command line of (say) the Editor. The Option 6
panel is very specific: it is just for entering commands.
Note
You can enter TSO commands on the command line of any ISPF panel. You just need to
prefix your command with “TSO”. You saw this in Exercise 3, when you executed the
LITLGAME REXX EXEC: TSO EXEC ‘userid.ES10.PDS(LITLGAME)’.
When you are in ISPF Option 6 (ISPF Command Shell), commands you enter are
interpreted as TSO commands, so you won’t need the “TSO” prefix.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-3
Section 2: TSO commands
__ 2. Use the proper TSO/E command to display only the function of the ALLOCATE command.
To do this, enter H ALLOCATE FUNCTION:
Press Enter. You will see (truncated to fit this page):
Reminder
See the three asterisks (‘***’)? Remember, when you see those three asterisks, the only thing you
can do is press Enter.
Press Enter. You will be back to the Option 6 panel.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-4
__ 3. Use the proper TSO/E command to display only the syntax of the ALLOCATE command.
For this you need to enter H ALLOCATE SYNTAX and press Enter. You will see:
Press Enter until all the help information has been displayed (about 4 times, depending on
your screen size). The last page will be:
Note the ALIAS - ALLOC. Instead of typing ALLOCATE, you can use the shorter ALLOC.
We’ll use ALLOC from now on.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-5
__ 4. Find out the purpose of the LIKE operand of the ALLOCATE command.
Enter H ALLOC OPERANDS(LIKE) and press Enter:
__ 5. Allocate a new data set called userid.ES10.TSOEPDS. Allocate the data set with the same
characteristics as D80WW.ES10V15.PROC.
The command for this is ALLOC DA(ES10.TSOEPDS) LIKE('D80WW.ES10V15.PROC'),
where:
 ▪ ALLOC is the ALLOCATE command alias (that is, short name). In this case, we’ll create a
dataset (note we can also use ALLOCATE to make existing data sets available to programs
that read from or write to them).
 ▪ DA(ES10.TSOEPDS): DA is short for DATASET. We are creating a dataset called your
userid.ES10.TSOEPDS. As the data set name is written without quotes, TSO adds your
userid prefix.
 ▪ LIKE('D80WW.ES10V15.PROC'): The data set we’re allocating will have the same
attributes as 'D80WW.ES10V15.PROC'. That data set does not start with our userid, so
we must use quotes (if we don’t put quotes, TSO will think we mean your
userid.D80WW.ES10V15.PROC).
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-6
So, enter ALLOC DA(ES10.TSOEPDS) LIKE('D80WW.ES10V15.PROC'):
Press Enter. You will see... nothing. If there are no errors, the command worked. Next,
we’ll verify this.
__ 6. Verify the proper allocation of userid.ES10.TSOEPDS by using a TSO/E command to
display its characteristics as well as those of D80WW.ES10V15.PROC.
To display the characteristics of the data set just allocated:
Enter LISTDS ES10.TSOEPDS. and press Enter. You should see:
(Remember your data set name starts with your userid, not TSOCA23.)
Three asterisks. Press Enter.
Next, enter LISTDS 'D80WW.ES10V15.PROC' and press Enter:
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-7
Both data sets are Fixed Blocked (FB), Partitioned (DSORG PO), with 80-byte records
(LRECL 80). Note that the system ignored the inefficient block size (6160) and used the
value that uses disk space most efficiently, 27920.
Note
We could have entered LISTDS for both data sets in a single command.
You can use parenthesis for the data set operand: LISTDS (ES10.TSOEPDS) or LISTDS
('D80WW.ES10V15.PROC').
When using parenthesis, you can enter more than one data set:
LISTDS (ES10.TSOEPDS 'D80WW.ES10V15.PROC').
__ 7. Allocate a new sequential data set called userid.ES10.TSOEPS with the following
characteristics:
a. Two tracks primary space, one track secondary
b. Fixed-length records of 80 bytes
c. Blocked records
The command for this is:
ALLOC DA(ES10.TSOEPS) TRACKS SPACE(2,1) LRECL(80) RECFM(F,B) DSORG(PS)
(Horrible, we know. That’s why you’ll almost always work with ISPF, not directly with TSO.)
Where:
DA(ES10.TSOEPS) is the data set we are creating. (No quotes, so TSO adds your userid as
prefix.)
TRACKS SPACE(2,1): the new data set will have initially 2 disk tracks (each track is about
50K bytes). If it needs more than 2 tracks, it will grow 1 track at a time, up to 15 times.
LRECL(80): records in this data set have a maximum of 80 bytes.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-8
RECFM(F,B): the record format is fixed (F), so all records have exactly 80 bytes. It is also
blocked (B), so records are grouped in blocks before being written out to disk.
DSORG(PS): this is a sequential data set (PS = Physical Sequential).
OK let’s do it.
Enter
ALLOC DA(ES10.TSOEPS) TRACKS SPACE(2,1) LRECL(80) RECFM(F,B) DSORG(PS):
Press Enter. If the command worked, you will see nothing.
__ 8. Verify whether the data set has been allocated with the right attributes.
Enter LISTDS ES10.TSOEPS and press Enter. You should see:
Record format (FB), record length (80), and organization (PS) are what we wanted. So far
so good.
Optional
What about disk space? To check that, you’ll need to go to option 3.4 and enter I (Information)
next to the data set name. You should see:
We won’t do it now, but feel free to do it yourself if you want to.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-9
Note
Although we used ALLOCATE to create data sets, the command is also used to establish a link to
existing data sets, so that application programs can access them. It is similar to a DD in JCL.
For example, if you want to run a program that reads from userid.ES10.TSOEPS using the DD
name ALLOCPS, you will enter this:
ALLOC F(ALLOCPS) DA(ES10.TSOEPS) SHR
Where:
F(ALLOCPS): File name (DD name) is ALLOCPS. The program reading the data set uses this to
refer to the data set.
DA(ES10.TSOEPS): We’re allocating (accessing) the data set userid.ES10.TSOEPS.
SHR: we are accessing the data set as SHARED. Other programs can read from it concurrently. To
access the data set exclusively (typically, when you’re writing to it, or when you don’t want others
updating it while you read it), use OLD. When you enter neither SHR nor OLD, the default is NEW,
which means “create the data set” (which explains why the ALLOCATE commands we used earlier
created new data sets).
To check which data sets are allocated, you can use LISTALC (alias LISTA). To list allocated data
sets and their file (DD) names:
LISTA ST
When the program no longer needs the data set, you usually enter the opposite of ALLOCATE:
FREE. FREE deallocates the data set (makes it available to other programs). To deallocate the
data set we allocated above:
FREE F(ALLOCPS)
__ 9. Display your TSO/E profile and change the prefix setting to HUGO.
Note
It is unlikely that you will ever need to use the PROFILE command. We use it here to practice TSO
and show how the data set prefix works.
To display your profile, enter PROFILE:
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-10
Note PREFIX(your userid). This is why TSO prefixes your userid to data set names entered
without quotes.
Three asterisks, so press Enter.
To change your data set name prefix to HUGO:
Enter PROFILE PREFIX(HUGO), then enter PROFILE to display and verify:
Three asterisks, so press Enter.
__ 10. Enter LISTDS ES10.TSOEPS. Last time this command worked. Now, you will see this
error:
TSO added HUGO as prefix, and we know that HUGO.ES10.TSOEPS doesn’t exist.
__ 11. Reset the prefix to its previous value (your userid).
Enter PROFILE PREFIX(your userid)
Enter LISTDS ES10.TSOEPS. This time it should work. If it didn’t, make sure you entered
your userid correctly in PREFIX(your userid).
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-11
__ 12. Enter LISTDS
We forgot to enter the expected data set name. TSO prompts us to enter it:
__ 13. Press the ESC Key to terminate the command. If you are in full screen mode, you have to
press ESC twice. The first time takes you out of full screen more. The second time
terminates the command. You should see:
Note
Remember that you can also interrupt any command by entering PA1: right-click on the screen to
bring up the pop-up keypad then press on PA1.
__ 14. Change the profile setting to NOPROMPT.
Enter PROFILE NOPROMPT and press Enter.
__ 15. Enter LISTDS again. This time TSO, instead of asking (prompting) for the missing operand,
issues an error message:
__ 16. Reset the profile to PROMPT. Enter PROFILE PROMPT and press Enter.
V12.0
EXempty
Exercise 7. Using TSO/E commands
Course materials may not be reproduced in whole or in part without the prior written permission of IBM.
© Copyright IBM Corp. 2019, 2024 7-12
Note
When you enter incorrect information with a command or when the system
requires further information from you, the system issues a message to prompt you
for the information. To control whether you receive these system messages, use
PROFILE PROMPT/NOPROMPT.
If you do not want to receive the system messages, use PROFILE NOPROMPT.
The PROMPT operand allows you to receive these messages at the terminal and is
the default with the PROFILE command.
End of exercise
